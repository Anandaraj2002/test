<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sensor Data</title>
</head>
<body>
<h1>Sensor Values</h1>
<p>Sensor 1: <span id="sensor1">Loading...</span></p>
<p>Sensor 2: <span id="sensor2">Loading...</span></p>
<p>Sensor 3: <span id="sensor3">Loading...</span></p>
<p>Sensor 4: <span id="sensor4">Loading...</span></p>
<p>Sensor 5: <span id="sensor5">Loading...</span></p>

<script>
    async function fetchSensorData() {
        try {
            const response = await fetch("https://test-ptcb.onrender.com/get-sensor-data"); // Correct API URL
            if (!response.ok) throw new Error("Failed to fetch data");

            const data = await response.json();
            console.log("Fetched Data:", data); // Debugging log

            document.getElementById("sensor1").innerText = data.sensor1 || "N/A";
            document.getElementById("sensor2").innerText = data.sensor2 || "N/A";
            document.getElementById("sensor3").innerText = data.sensor3 || "N/A";
            document.getElementById("sensor4").innerText = data.sensor4 || "N/A";
            document.getElementById("sensor5").innerText = data.sensor5 || "N/A";
        } catch (error) {
            console.error("Error fetching sensor data:", error);
        }
    }

    setInterval(fetchSensorData, 5000); // Refresh every 5 seconds
    fetchSensorData(); // Initial call
</script>
</body>
</html>
